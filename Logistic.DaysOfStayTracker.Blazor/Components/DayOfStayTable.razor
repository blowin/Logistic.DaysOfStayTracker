@using Microsoft.VisualBasic
@using Constants = Logistic.DaysOfStayTracker.Core.Constants

<MudGrid>
    @if (_errors != null)
    {
        <MudItem xl="12" xs="12" xxl="12">
            @foreach (var error in _errors)
            {
                <MudText Color="Color.Error">@error</MudText>
            }
        </MudItem>   
    }
    <MudItem xl="12" xs="12" xxl="12">
        <MudButton OnClick="AddDayOfStay">Добавить</MudButton>
    </MudItem>
    <MudItem xl="12" xs="12" xxl="12">
        <MudTable Items="@_items" Hover="true" Breakpoint="Breakpoint.Md" LoadingProgressColor="Color.Info">
            <HeaderContent>
                <MudTh>Дата въезда</MudTh>
                <MudTh>Страна въезда</MudTh>
                <MudTh>Дата выезда</MudTh>
                <MudTh>Страна выезда</MudTh>
                <MudTh>Действия</MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd DataLabel="Дата въезда">@context.EntryDate</MudTd>
                <MudTd DataLabel="Страна въезда">@(_countries[context.EntryCountryId].Name)</MudTd>
                <MudTd DataLabel="Дата выезда">@context.ExitDate</MudTd>
                <MudTd DataLabel="Страна выезда">@(_countries[context.ExitCountryId].Name)</MudTd>
                <MudTd>
                    <MudButton Color="Color.Primary" OnClick="@(() => Delete(context))">Удалить</MudButton>
                </MudTd>
            </RowTemplate>
            <PagerContent>
                <MudTablePager Class="pa-4" PageSizeOptions="@(new[] {Constants.DefaultPageSize})" HideRowsPerPage="true"/>
            </PagerContent>
        </MudTable>
    </MudItem>
</MudGrid>